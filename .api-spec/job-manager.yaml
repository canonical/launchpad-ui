# Source commit: d99674acbf7d25902eb8b3c0ed6b33d93b2b6d79 (job-manager:main)
openapi: 3.1.0
info:
  title: Job Manager API
  description: A modern job management system
  version: 2.0.0
paths:
  /v1/jobs:
    post:
      tags:
      - jobs
      summary: Create Job
      description: |-
        Create a new job in the system.

        Args:
            job_in: Job creation model containing all required job parameters
            db: Database session dependency
            token: API access token for authorization

        Returns:
            dict: Contains the status_url for the created job

        Raises:
            HTTPException 400: If invalid tag format is provided
            HTTPException 401: If authorization token is invalid or missing
      operationId: create_job_v1_jobs_post
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - jobs
      summary: Get Jobs
      description: |-
        Retrieve a list of all jobs in the system.

        Args:
            tags: Optional list of tags to filter jobs by (AND logic)
            architecture: Optional architecture to filter jobs by
            requested_by: Optional user identity to filter jobs by
            base_series: Optional base series to filter jobs by
            status: Optional job status to filter jobs by
            private: Optional flag to filter by privacy status
            repository_url: Optional repository URL to filter jobs by
            db: Database session dependency
            token: API access token for authorization

        Returns:
            List[JobRead]: List of all jobs matching the criteria

        Raises:
            HTTPException 401: If authorization token is invalid or missing
      operationId: get_jobs_v1_jobs_get
      parameters:
      - name: tags
        in: query
        required: false
        schema:
          anyOf:
          - type: array
            items:
              type: string
          - type: 'null'
          description: Filter jobs by tags (comma-separated)
          title: Tags
        description: Filter jobs by tags (comma-separated)
      - name: architecture
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Architecture
      - name: requested_by
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Requested By
      - name: base_series
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Base Series
      - name: status
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Status
      - name: private
        in: query
        required: false
        schema:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Private
      - name: repository_url
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Repository Url
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/JobRead'
                title: Response Get Jobs V1 Jobs Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/jobs/{job_id}:
    get:
      tags:
      - jobs
      summary: Get Job
      description: |-
        Retrieve a specific job by its ID.

        Args:
            job_id: Unique identifier of the job
            db: Database session dependency
            token: Optional API access token for authorization (required for
            private jobs)

        Returns:
            JobRead: The requested job object

        Raises:
            HTTPException 404: If job is not found
            HTTPException 401: If job is private and no valid token is provided
            HTTPException 403: If user doesn't have permission to view private job
      operationId: get_job_v1_jobs__job_id__get
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobRead'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - jobs
      summary: Update Job
      description: |-
        Update an existing job's information.

        Args:
            job_id: Unique identifier of the job to update
            job_in: Job update model containing fields to update
            db: Database session dependency
            token: API access token for authorization

        Returns:
            JobRead: The updated job object

        Raises:
            HTTPException 400: If invalid tag format is provided
            HTTPException 401: If authorization token is invalid or missing
            HTTPException 404: If job is not found
      operationId: update_job_v1_jobs__job_id__put
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobRead'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/jobs/{job_id}/health:
    put:
      tags:
      - jobs
      summary: Update Health
      description: |-
        Update the health status of a running job.

        This endpoint accepts health data and immediately returns 200 OK.
        All processing is done asynchronously in a background task.

        Args:
            job_id: Unique identifier of the job
            request: FastAPI request object containing health data
            background_tasks: FastAPI background tasks for async operations
            db: Database session dependency
            token: Builder token for authorization

        Returns:
            dict: Acknowledgment of health update receipt

        Raises:
            HTTPException 401: If builder token is invalid or missing
            HTTPException 404: If job is not found
      operationId: update_health_v1_jobs__job_id__health_put
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - jobs
      summary: Get Health
      description: |-
        Retrieve the current health status of a job.

        Args:
            job_id: Unique identifier of the job
            db: Database session dependency

        Returns:
            dict: Health status information including CPU, RAM, disk usage, and job
                status

        Raises:
            HTTPException 401: If authorization token is invalid or missing
            HTTPException 404: If job is not found or not active/executing
      operationId: get_health_v1_jobs__job_id__health_get
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/jobs/{job_id}/cancel:
    put:
      tags:
      - jobs
      summary: Cancel Job
      description: |-
        Cancel a running job.

        Args:
            job_id: Unique identifier of the job to cancel
            db: Database session dependency
            token: API access token for authorization

        Returns:
            dict: Confirmation message of job cancellation

        Raises:
            HTTPException 400: If job cannot be cancelled or is already in final
                state
            HTTPException 401: If job is private and no valid token is provided
            HTTPException 403: If user doesn't have permission to cancel private
                job
            HTTPException 404: If job is not found
      operationId: cancel_job_v1_jobs__job_id__cancel_put
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/jobs/{job_id}/object/{object_name}:
    get:
      tags:
      - jobs
      summary: Download Object
      description: |-
        Download an artifact or object associated with a job.

        Args:
            job_id: Unique identifier of the job
            object_name: Name of the object/artifact to download
            db: Database session dependency

        Returns:
            StreamingResponse: Stream of the requested object data with appropriate
                headers

        Raises:
            HTTPException 401: If job is private and no valid token is provided
            HTTPException 403: If user doesn't have permission to view private job
            HTTPException 404: If job is not found
            HTTPException 500: If object cannot be accessed or S3 error occurs
      operationId: download_object_v1_jobs__job_id__object__object_name__get
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      - name: object_name
        in: path
        required: true
        schema:
          type: string
          title: Object Name
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    head:
      tags:
      - jobs
      summary: Get Object Metadata
      description: |-
        Get metadata (headers only) for an artifact or object associated with a
        job.

        Args:
            job_id: Unique identifier of the job
            object_name: Name of the object/artifact to get metadata for
            db: Database session dependency
            token: Optional API access token for authorization (required for
                private jobs)

        Returns:
            JSONResponse: Empty response with Content-Type and Content-Length
                headers

        Raises:
            HTTPException 404: If job is not found
            HTTPException 401: If job is private and no valid token is provided
            HTTPException 403: If user doesn't have permission to view private job
            HTTPException 500: If object cannot be accessed
      operationId: get_object_metadata_v1_jobs__job_id__object__object_name__head
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      - name: object_name
        in: path
        required: true
        schema:
          type: string
          title: Object Name
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/jobs/{job_id}/token:
    post:
      tags:
      - jobs
      summary: Generate Token
      description: |-
        Generate a JWT token for job authentication and set up SSH keys.

        Args:
            job_id: Unique identifier of the job
            request: FastAPI request object potentially containing SSH keys
            db: Database session dependency
            token: API access token for authorization

        Returns:
            dict: Contains the generated JWT token

        Raises:
            HTTPException 401: If authorization token is invalid or missing
            HTTPException 404: If job is not found
            HTTPException 500: If SSH key generation fails
      operationId: generate_token_v1_jobs__job_id__token_post
      parameters:
      - name: job_id
        in: path
        required: true
        schema:
          type: integer
          title: Job Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/api_access_token:
    post:
      tags:
      - tokens
      summary: Create Api Access Token
      description: |-
        Create a new API access token for service authentication.

        Args:
            request: FastAPI request object with identity and optional expiration
            db: Database session dependency
            _: Internal-only access check dependency

        Returns:
            JSONResponse: Contains the generated token and identity

        Raises:
            HTTPException 400: If identity is missing from request
            HTTPException 403: If request is not from internal network or token is
                invalid
      operationId: create_api_access_token_v1_api_access_token_post
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
    delete:
      tags:
      - tokens
      summary: Revoke Api Access Token
      description: |-
        Revoke an existing API access token.

        Args:
            identity: Service identity associated with the token
            token: The token value to revoke
            db: Database session dependency
            _: Internal-only access check dependency

        Returns:
            dict: Contains the revoked token and identity

        Raises:
            HTTPException 403: If request is not from internal network or token is
                invalid
            HTTPException 404: If token is not found
      operationId: revoke_api_access_token_v1_api_access_token_delete
      parameters:
      - name: identity
        in: query
        required: true
        schema:
          type: string
          title: Identity
      - name: token
        in: query
        required: true
        schema:
          type: string
          title: Token
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/runners/register:
    post:
      tags:
      - runners
      summary: Register Runner
      description: |-
        Register a new runner.

        Args:
            runner_in: Runner registration data including name and labels
            db: Database session dependency

        Returns:
            dict: Contains the runner ID and its authentication token

        Raises:
            HTTPException 500: If token generation fails
      operationId: register_runner_v1_runners_register_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RunnerCreate'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RunnerRegisterResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /v1/runners/{runner_id}/health:
    get:
      tags:
      - runners
      summary: Get Runner Health
      description: |-
        Get runner health status.

        Args:
            runner_id: Unique identifier of the runner
            db: Database session dependency

        Returns:
            dict: Runner health metrics including CPU, RAM, disk usage and status

        Raises:
            HTTPException 404: If runner is not found
      operationId: get_runner_health_v1_runners__runner_id__health_get
      parameters:
      - name: runner_id
        in: path
        required: true
        schema:
          type: integer
          title: Runner Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RunnerHealthResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - runners
      summary: Update Runner Health
      description: |-
        Update runner health metrics.

        This endpoint accepts health data and immediately returns 200 OK.
        All processing is done asynchronously in a background task.

        Args:
            runner_id: Unique identifier of the runner
            request: FastAPI request object containing health metrics
            background_tasks: FastAPI background tasks for async operations
            db: Database session dependency
            _: Runner token for authorization

        Returns:
            dict: Acknowledgment of health update receipt

        Raises:
            HTTPException 404: If runner is not found
      operationId: update_runner_health_v1_runners__runner_id__health_put
      parameters:
      - name: runner_id
        in: path
        required: true
        schema:
          type: integer
          title: Runner Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RunnerHealthUpdateResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /metrics:
    get:
      summary: Metrics
      description: Endpoint that serves Prometheus metrics.
      operationId: metrics_metrics_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /:
    get:
      summary: Root
      description: |-
        Root endpoint providing basic API information.

        Supports both GET and HEAD requests. HEAD requests are commonly
        used by monitoring tools and curl -I to check service status.

        Returns:
            dict: Basic API information including:
                - message: API identification
                - version: Current API version
                - status: Running status
      operationId: root__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
    head:
      summary: Root
      description: |-
        Root endpoint providing basic API information.

        Supports both GET and HEAD requests. HEAD requests are commonly
        used by monitoring tools and curl -I to check service status.

        Returns:
            dict: Basic API information including:
                - message: API identification
                - version: Current API version
                - status: Running status
      operationId: root__head
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /health:
    get:
      summary: Health Check
      description: |-
        Health check endpoint for monitoring service status.

        This endpoint can be used by monitoring tools and load balancers to
        verify the service is operational.

        Returns:
            dict: Contains status indicating service health
      operationId: health_check_health_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
components:
  schemas:
    Architecture:
      type: string
      enum:
      - amd64
      - arm64
      - armel
      - armhf
      - ppc64el
      - s390x
      - riscv64
      - amd64v3
      - i386
      title: Architecture
      description: Supported CPU architectures.
    ArtifactMetadata:
      properties:
        url:
          type: string
          title: Url
        type:
          type: string
          title: Type
        size:
          type: integer
          title: Size
      type: object
      required:
      - url
      - type
      - size
      title: ArtifactMetadata
      description: |-
        Metadata for a job artifact stored in S3.

        Attributes:
            url: Full URL to download the artifact
            type: MIME type of the artifact (e.g., 'application/gzip')
            size: Size of the artifact in bytes
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    JobCreate:
      properties:
        title:
          type: string
          title: Title
          default: ''
          examples:
          - Build Ubuntu 24.04 image
        description:
          type: string
          title: Description
          default: ''
          examples:
          - Build a hardened Ubuntu image with security patches
        repository_url:
          type: string
          title: Repository Url
          default: ''
          examples:
          - https://example.com/org/secure-images
        repository_ref:
          type: string
          title: Repository Ref
          default: ''
          examples:
          - main
        architecture:
          $ref: '#/components/schemas/Architecture'
          default: amd64
          examples:
          - amd64
        base_series:
          $ref: '#/components/schemas/Series'
          default: noble
          examples:
          - noble
        commands:
          items: {}
          type: array
          title: Commands
          default: []
          examples:
          - - sudo apt-get update
            - sudo apt-get install -y curl jq
            - make build
            - ./scripts/build.sh --release
        proxy_settings:
          additionalProperties: true
          type: object
          title: Proxy Settings
          default: {}
          examples:
          - policy: permissive
        secrets:
          additionalProperties: true
          type: object
          title: Secrets
          default: {}
          examples:
          - SECRET_TOKEN: s3cr3t_v4lu3
        environment:
          additionalProperties: true
          type: object
          title: Environment
          default: {}
          examples:
          - BUILD_MODE: hardened
        artifact_path:
          type: string
          title: Artifact Path
          default: ''
          examples:
          - build/artifacts/*.tar.gz
        topology:
          type: string
          title: Topology
          default: ''
          examples:
          - single-node
        vm_size:
          type: string
          title: Vm Size
          default: ''
          examples:
          - large
        private:
          type: boolean
          title: Private
          default: false
          examples:
          - true
        status:
          $ref: '#/components/schemas/JobStatus'
          default: PENDING
          examples:
          - FINISHED
        priority:
          type: integer
          title: Priority
          default: 0
          examples:
          - 4
        artifact_urls:
          items: {}
          type: array
          title: Artifact Urls
          default: []
          examples:
          - - https://example.com/jobs/123/output.tar.gz
            - https://example.com/jobs/123/metadata.json
        log_urls:
          items: {}
          type: array
          title: Log Urls
          default: []
          examples:
          - - https://example.com/jobs/123/object/default.log
            - https://example.com/jobs/123/object/job-agent.log
        tags:
          items:
            type: string
          type: array
          title: Tags
          default: []
          examples:
          - - security
            - production
      type: object
      title: JobCreate
      description: Job creation model.
    JobRead:
      properties:
        title:
          type: string
          title: Title
          default: ''
          examples:
          - Build Ubuntu 24.04 image
        description:
          type: string
          title: Description
          default: ''
          examples:
          - Build a hardened Ubuntu image with security patches
        repository_url:
          type: string
          title: Repository Url
          default: ''
          examples:
          - https://example.com/org/secure-images
        repository_ref:
          type: string
          title: Repository Ref
          default: ''
          examples:
          - main
        architecture:
          $ref: '#/components/schemas/Architecture'
          default: amd64
          examples:
          - amd64
        base_series:
          $ref: '#/components/schemas/Series'
          default: noble
          examples:
          - noble
        commands:
          items: {}
          type: array
          title: Commands
          default: []
          examples:
          - - sudo apt-get update
            - sudo apt-get install -y curl jq
            - make build
            - ./scripts/build.sh --release
        proxy_settings:
          additionalProperties: true
          type: object
          title: Proxy Settings
          default: {}
          examples:
          - policy: permissive
        secrets:
          additionalProperties: true
          type: object
          title: Secrets
          default: {}
          examples:
          - SECRET_TOKEN: s3cr3t_v4lu3
        environment:
          additionalProperties: true
          type: object
          title: Environment
          default: {}
          examples:
          - BUILD_MODE: hardened
        artifact_path:
          type: string
          title: Artifact Path
          default: ''
          examples:
          - build/artifacts/*.tar.gz
        topology:
          type: string
          title: Topology
          default: ''
          examples:
          - single-node
        vm_size:
          type: string
          title: Vm Size
          default: ''
          examples:
          - large
        private:
          type: boolean
          title: Private
          default: false
          examples:
          - true
        status:
          $ref: '#/components/schemas/JobStatus'
          default: PENDING
          examples:
          - FINISHED
        priority:
          type: integer
          title: Priority
          default: 0
          examples:
          - 4
        artifact_urls:
          items: {}
          type: array
          title: Artifact Urls
          default: []
          examples:
          - - https://example.com/jobs/123/output.tar.gz
            - https://example.com/jobs/123/metadata.json
        log_urls:
          items: {}
          type: array
          title: Log Urls
          default: []
          examples:
          - - https://example.com/jobs/123/object/default.log
            - https://example.com/jobs/123/object/job-agent.log
        tags:
          items:
            type: string
          type: array
          title: Tags
          default: []
          examples:
          - - security
            - production
        id:
          type: integer
          title: Id
          examples:
          - 123
        requested_by:
          type: string
          title: Requested By
          examples:
          - user
        created_at:
          type: string
          format: date-time
          title: Created At
          examples:
          - '2025-01-15T09:15:30.123456Z'
        updated_at:
          type: string
          format: date-time
          title: Updated At
          examples:
          - '2025-01-15T10:45:23.456789Z'
        started_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Started At
          examples:
          - '2025-01-15T09:20:11.987654Z'
        completed_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Completed At
          examples:
          - '2025-01-15T10:45:23.456789Z'
        artifacts:
          items:
            $ref: '#/components/schemas/ArtifactMetadata'
          type: array
          title: Artifacts
          description: List of artifact metadata with URL, MIME type, and size. Returns empty list if no artifacts exist or S3 is unavailable.
          readOnly: true
          examples:
          - - size: 2048576
              type: application/gzip
              url: https://example.com/v1/jobs/123/object/output.tar.gz
            - size: 1024
              type: application/json
              url: https://example.com/v1/jobs/123/object/metadata.json
      type: object
      required:
      - id
      - requested_by
      - created_at
      - updated_at
      - artifacts
      title: JobRead
      description: Job read model with all fields.
    JobStatus:
      type: string
      enum:
      - PENDING
      - EXECUTING
      - IDLE
      - FINISHED
      - FAILED
      - CANCELLED
      - TERMINATED
      title: JobStatus
      description: Job status values.
    JobUpdate:
      properties:
        requested_by:
          anyOf:
          - type: string
          - type: 'null'
          title: Requested By
          examples:
          - user
        status:
          anyOf:
          - $ref: '#/components/schemas/JobStatus'
          - type: 'null'
          examples:
          - FINISHED
        artifact_urls:
          anyOf:
          - items: {}
            type: array
          - type: 'null'
          title: Artifact Urls
          examples:
          - - https://example.com/jobs/123/output.tar.gz
            - https://example.com/jobs/123/metadata.json
        log_urls:
          anyOf:
          - items: {}
            type: array
          - type: 'null'
          title: Log Urls
          examples:
          - - https://example.com/jobs/123/object/default.log
            - https://example.com/jobs/123/object/job-agent.log
        started_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Started At
          examples:
          - '2025-01-15T09:20:11.987654Z'
        completed_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Completed At
          examples:
          - '2025-01-15T10:45:23.456789Z'
        title:
          anyOf:
          - type: string
          - type: 'null'
          title: Title
          examples:
          - Build Ubuntu 24.04 image
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
          examples:
          - Build a hardened Ubuntu image with security patches
        tags:
          anyOf:
          - items:
              type: string
            type: array
          - type: 'null'
          title: Tags
          examples:
          - - security
            - production
      type: object
      title: JobUpdate
      description: Job update model.
    RunnerCreate:
      properties:
        name:
          type: string
          title: Name
        labels:
          items:
            type: string
          type: array
          title: Labels
        cloud_name:
          type: string
          title: Cloud Name
          default: local
      type: object
      required:
      - name
      - labels
      title: RunnerCreate
      description: Runner creation model.
    RunnerHealthResponse:
      properties:
        label:
          type: string
          title: Label
        cpu_usage:
          type: string
          title: Cpu Usage
        ram_usage:
          type: string
          title: Ram Usage
        disk_usage:
          type: string
          title: Disk Usage
        status:
          type: string
          title: Status
        deletable:
          type: boolean
          title: Deletable
      type: object
      required:
      - label
      - cpu_usage
      - ram_usage
      - disk_usage
      - status
      - deletable
      title: RunnerHealthResponse
    RunnerHealthUpdateResponse:
      properties:
        message:
          type: string
          title: Message
      type: object
      required:
      - message
      title: RunnerHealthUpdateResponse
    RunnerRegisterResponse:
      properties:
        id:
          type: integer
          title: Id
        token:
          type: string
          title: Token
        proxy:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Proxy
      type: object
      required:
      - id
      - token
      title: RunnerRegisterResponse
    Series:
      type: string
      enum:
      - noble
      - mantic
      - jammy
      - focal
      - bionic
      title: Series
      description: Supported Ubuntu series.
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
