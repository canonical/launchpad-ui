<script module lang="ts">
  import { defineMeta } from "@storybook/addon-svelte-csf";
  import { Log } from "./index.js";

  const { Story } = defineMeta({
    title: "Components/Log",
    tags: ["autodocs"],
    component: Log,
  });

  const rawLogs = [
    {
      "@timestamp": "2025-10-28T14:28:03.085333",
      "log.level": "info",
      message: "Checking out branch: main-capital",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 1,
    },
    {
      "@timestamp": "2025-10-28T14:28:03.190365",
      "log.level": "info",
      message: "\u001b[35mChecking out branch: main-consumer\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 2,
    },
    {
      "@timestamp": "2025-10-28T14:28:04.500086",
      "log.level": "info",
      message: "Checking out branch: main-back",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 3,
    },
    {
      "@timestamp": "2025-10-28T14:28:04.743346",
      "log.level": "info",
      message: "Checking out branch: main-fast",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 4,
    },
    {
      "@timestamp": "2025-10-28T14:28:05.198203",
      "log.level": "info",
      message: "Checking out branch: main-current",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 5,
    },
    {
      "@timestamp": "2025-10-28T14:28:05.303914",
      "log.level": "info",
      message: "\u001b[36mFetching submodules...\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 6,
    },
    {
      "@timestamp": "2025-10-28T14:28:05.564089",
      "log.level": "info",
      message: "Checking out branch: main-officer",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 7,
    },
    {
      "@timestamp": "2025-10-28T14:28:07.052422",
      "log.level": "info",
      message: "HEAD is now at 65b43d4b",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 8,
    },
    {
      "@timestamp": "2025-10-28T14:28:07.235371",
      "log.level": "info",
      message: "Checking out branch: main-southern",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 9,
    },
    {
      "@timestamp": "2025-10-28T14:28:07.641447",
      "log.level": "info",
      message: "HEAD is now at c17c8eed",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 10,
    },
    {
      "@timestamp": "2025-10-28T14:28:07.819725",
      "log.level": "info",
      message: "HEAD is now at 42860e99",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 11,
    },
    {
      "@timestamp": "2025-10-28T14:28:09.249737",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 12,
    },
    {
      "@timestamp": "2025-10-28T14:28:11.757859",
      "log.level": "info",
      message: "Cloning repository...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 13,
    },
    {
      "@timestamp": "2025-10-28T14:28:11.974528",
      "log.level": "info",
      message: "Cloning repository...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 14,
    },
    {
      "@timestamp": "2025-10-28T14:28:12.160580",
      "log.level": "info",
      message: "Checking out branch: main-the",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 15,
    },
    {
      "@timestamp": "2025-10-28T14:28:12.530593",
      "log.level": "info",
      message: "Checking out branch: main-evening",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 16,
    },
    {
      "@timestamp": "2025-10-28T14:28:13.080644",
      "log.level": "info",
      message: "HEAD is now at 10c5939e",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 17,
    },
    {
      "@timestamp": "2025-10-28T14:28:14.489270",
      "log.level": "info",
      message: "Cloning repository...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 18,
    },
    {
      "@timestamp": "2025-10-28T14:28:14.711475",
      "log.level": "info",
      message: "HEAD is now at fb7c5a70",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 19,
    },
    {
      "@timestamp": "2025-10-28T14:28:14.833117",
      "log.level": "info",
      message: "Checking out branch: main-day",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 20,
    },
    {
      "@timestamp": "2025-10-28T14:28:15.169213",
      "log.level": "info",
      message: "Cloning repository...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 21,
    },
    {
      "@timestamp": "2025-10-28T14:28:15.606707",
      "log.level": "info",
      message: "✓ Repository cloned successfully",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 22,
    },
    {
      "@timestamp": "2025-10-28T14:28:15.884118",
      "log.level": "info",
      message: "✓ Repository cloned successfully",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 23,
    },
    {
      "@timestamp": "2025-10-28T14:28:17.172095",
      "log.level": "info",
      message: "HEAD is now at 521c1166",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 24,
    },
    {
      "@timestamp": "2025-10-28T14:28:17.290281",
      "log.level": "info",
      message: "HEAD is now at b7449e9f",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 25,
    },
    {
      "@timestamp": "2025-10-28T14:28:20.174199",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 26,
    },
    {
      "@timestamp": "2025-10-28T14:28:20.618932",
      "log.level": "info",
      message: "\u001b[35mChecking out branch: main-sometimes\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 27,
    },
    {
      "@timestamp": "2025-10-28T14:28:21.403018",
      "log.level": "info",
      message: "✓ Repository cloned successfully",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 28,
    },
    {
      "@timestamp": "2025-10-28T14:28:21.823490",
      "log.level": "info",
      message: "HEAD is now at 80a6c40c",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 29,
    },
    {
      "@timestamp": "2025-10-28T14:28:22.132064",
      "log.level": "info",
      message: "\u001b[34mCloning repository...\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 30,
    },
    {
      "@timestamp": "2025-10-28T14:28:22.515593",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 31,
    },
    {
      "@timestamp": "2025-10-28T14:28:23.839686",
      "log.level": "info",
      message: "\u001b[32m✓ Repository cloned successfully\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 32,
    },
    {
      "@timestamp": "2025-10-28T14:28:24.225863",
      "log.level": "info",
      message: "✓ Repository cloned successfully",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 33,
    },
    {
      "@timestamp": "2025-10-28T14:28:24.444599",
      "log.level": "info",
      message: "Checking out branch: main-seem",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 34,
    },
    {
      "@timestamp": "2025-10-28T14:28:24.648941",
      "log.level": "info",
      message: "HEAD is now at 8f59768e",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 35,
    },
    {
      "@timestamp": "2025-10-28T14:28:24.835184",
      "log.level": "info",
      message: "HEAD is now at d6072d1a",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 36,
    },
    {
      "@timestamp": "2025-10-28T14:28:25.154981",
      "log.level": "info",
      message: "\u001b[35mHEAD is now at e9462fd1\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 37,
    },
    {
      "@timestamp": "2025-10-28T14:28:25.565370",
      "log.level": "info",
      message: "Checking out branch: main-sell",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 38,
    },
    {
      "@timestamp": "2025-10-28T14:28:25.737515",
      "log.level": "info",
      message: "HEAD is now at 81c7378b",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 39,
    },
    {
      "@timestamp": "2025-10-28T14:28:27.943667",
      "log.level": "info",
      message:
        '{\n  "step": "checkout",\n  "status": "success",\n  "duration": 3.05,\n  "items_processed": 34\n}',
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 40,
    },
    {
      "@timestamp": "2025-10-28T14:28:28.204035",
      "log.level": "info",
      message: "Checking out branch: main-effort",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 41,
    },
    {
      "@timestamp": "2025-10-28T14:28:28.626331",
      "log.level": "info",
      message: "HEAD is now at 1f504d0a",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 42,
    },
    {
      "@timestamp": "2025-10-28T14:28:29.446408",
      "log.level": "error",
      message:
        "Test Results:\n  man                  FAIL        2.00s\n  area                 FAIL        1.28s\n  court                SKIP        1.96s",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 43,
    },
    {
      "@timestamp": "2025-10-28T14:28:29.672246",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 44,
    },
    {
      "@timestamp": "2025-10-28T14:28:30.793466",
      "log.level": "info",
      message:
        "Test Results:\n  piece                SKIP        1.46s\n  particularly         SKIP        1.62s\n  say                  PASS        1.23s\n  rule                 PASS        1.27s\n  reflect              SKIP        0.38s",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 45,
    },
    {
      "@timestamp": "2025-10-28T14:28:31.837034",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 46,
    },
    {
      "@timestamp": "2025-10-28T14:28:32.075759",
      "log.level": "info",
      message: "\u001b[32m✓ Repository cloned successfully\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 47,
    },
    {
      "@timestamp": "2025-10-28T14:28:32.223470",
      "log.level": "info",
      message: "\u001b[34mCloning repository...\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 48,
    },
    {
      "@timestamp": "2025-10-28T14:28:33.275341",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 49,
    },
    {
      "@timestamp": "2025-10-28T14:28:33.907692",
      "log.level": "info",
      message:
        '{\n  "step": "checkout",\n  "status": "success",\n  "duration": 5.83,\n  "items_processed": 55\n}',
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 50,
    },
    {
      "@timestamp": "2025-10-28T14:28:34.011616",
      "log.level": "info",
      message: "\u001b[32m✓ Repository cloned successfully\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 51,
    },
    {
      "@timestamp": "2025-10-28T14:28:34.267493",
      "log.level": "info",
      message: "HEAD is now at d70e6fba",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 52,
    },
    {
      "@timestamp": "2025-10-28T14:28:34.844797",
      "log.level": "info",
      message:
        '{\n  "step": "checkout",\n  "status": "success",\n  "duration": 6.97,\n  "items_processed": 56\n}',
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 53,
    },
    {
      "@timestamp": "2025-10-28T14:28:35.295870",
      "log.level": "info",
      message: "Fetching submodules...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 54,
    },
    {
      "@timestamp": "2025-10-28T14:28:35.747660",
      "log.level": "info",
      message: "Checking out branch: main-care",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 55,
    },
    {
      "@timestamp": "2025-10-28T14:28:36.104886",
      "log.level": "info",
      message: "Cloning repository...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "checkout",
      line_number: 56,
    },
    {
      "@timestamp": "2025-10-28T14:28:36.418997",
      "log.level": "info",
      message: "\u001b[34mBuild completed in 1.87s\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 57,
    },
    {
      "@timestamp": "2025-10-28T14:28:36.770514",
      "log.level": "info",
      message: "✓ Compilation successful",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 58,
    },
    {
      "@timestamp": "2025-10-28T14:28:37.251191",
      "log.level": "info",
      message: "\u001b[35mStarting build process...\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 59,
    },
    {
      "@timestamp": "2025-10-28T14:28:37.470953",
      "log.level": "warning",
      message: "Warning: unused variable 'customer'",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 60,
    },
    {
      "@timestamp": "2025-10-28T14:28:37.731880",
      "log.level": "info",
      message: "Linking libhold.so...",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 61,
    },
    {
      "@timestamp": "2025-10-28T14:28:38.096361",
      "log.level": "info",
      message: "\u001b[35mBuild completed in 1.69s\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 62,
    },
    {
      "@timestamp": "2025-10-28T14:28:38.200457",
      "log.level": "info",
      message:
        " ____  _   _  ____ ____ _____ ____ ____  \n/ ___|| | | |/ ___/ ___| ____/ ___/ ___| \n\\___ \\| | | | |  | |   |  _| \\___ \\___ \\ \n ___) | |_| | |__| |___| |___ ___) |__) |\n|____/ \\___/ \\____\\____|_____|____/____/ ",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 63,
    },
    {
      "@timestamp": "2025-10-28T14:28:40.148514",
      "log.level": "info",
      message: "\u001b[36mCompiling third.py...\u001b[0m",
      job_id: "a18a186c-1c3f-4b4e-a80c-8b558ce47348",
      step: "build",
      line_number: 64,
    },
  ] as const;
</script>

<Story name="Default">
  {#snippet template({ children: _, ...args })}
    <Log {...args}>
      {#each rawLogs as log (log.line_number)}
        <Log.Line
          line={log.line_number}
          timestamp={log["@timestamp"]}
          level={log["log.level"]}
          message={log.message}
        />
      {/each}
    </Log>
  {/snippet}
</Story>
